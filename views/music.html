<div ng-include="'views/nav.html'"></div>

<div id="music" class="d-md-flex flex-md-equal" ng-controller="MainCtrl">
  <div class="pt-3 px-3 pt-md-5 px-md-5 text-center text-white overflow-hidden container">
    <div class="row my-3 py-3">
      <div class="col-12">
        <h2 class="display-5 mb-0">MUSIC</h2>
      </div>
    </div>
  </div>
</div>

<div id="short-fiction" class="d-md-flex flex-md-equal">
  <div class="py-3 px-3 py-md-5 px-md-5 text-center text-white overflow-hidden container bb-1">
    <div class="row my-3 py-3" ng-repeat="a in albums">
      <div class="col-12 pb-3" align="left">
        <h3 class="display-5">{{a.name}}</h3>
        <h4>{{a.year}}</h4>
      </div>
      <div class="col-sm-12 col-md-4 pb-3">
        <img src="{{a.image}}" style="width: 100%;" class="grow">
      </div>
      <div id="spotify-player" class="col-sm-12 col-md-4 pb-3" ng-show="{{a.spotifyEmbedUrl}}">
        <iframe style="border-radius:12px"
                src="{{a.spotifyEmbedUrl}}" width="100%"
                height="100%" frameBorder="0" allowfullscreen=""
                allow="clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                loading="lazy"></iframe>
      </div>
      <div id="apple-music-player" class="col-sm-12 col-md-4 pb-3" ng-show="{{a.appleMusicEmbedUrl}}">
        <iframe allow="autoplay *; encrypted-media *; fullscreen *; clipboard-write" frameborder="0" height="100%"
                width="100%" style="width:100%;max-width:660px;overflow:hidden;background:transparent;"
                sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation"
                src="{{a.appleMusicEmbedUrl}}"></iframe>
      </div>
      <div class="col-12 pt-3" align="left"
           ng-hide="a.iTunesUrl === undefined && a.soundCloudUrl === undefined && a.amazonMusicUrl === undefined && a.tidalUrl === undefined && a.bandcampUrl === undefined && a.youTubeMusicUrl === undefined">
        <h4 class="mb-0" style="margin-left: 10px;">Also available on</h4>
        <div id="links" class="links">
          <ul class="listen-links p-0">
            <li ng-show="a.iTunesUrl">
              <a href="{{a.iTunesUrl}}" target="_blank" title="iTunes"
                 ng-click="recordLinkClick('click-music-page', 'iTunes')"
                 class="btn-floating btn-large waves-effect waves-light btn-red"><i
                class="fab fa-itunes-note"></i></a>
            </li>
            <li ng-show="a.tidalUrl">
              <a href="{{a.tidalUrl}}" target="_blank" title="Tidal"
                 ng-click="recordLinkClick('click-music-page', 'Tidal')"
                 class="btn-floating btn-large waves-effect waves-light btn-red"><i class="fab fa-2x">
                <img src="/images/tidal-icon_white.svg" style="height: 1.3rem; width: 100%;">
              </i></a>
            </li>
            <li ng-show="{{a.youTubeMusicUrl}}">
              <a href="{{a.youTubeMusicUrl}}" target="_blank" title="YouTube Music"
                 ng-click="recordLinkClick('click-music-page', 'YouTube Music')"
                 class="btn-floating btn-large waves-effect waves-light btn-red"><i
                class="fab fa-youtube-square"></i></a></li>
            <li ng-show="{{a.amazonMusicUrl}}">
              <a href="{{a.amazonMusicUrl}}" target="_blank" title="Amazon Music"
                 ng-click="recordLinkClick('click-music-page', 'Amazon Music')"
                 class="btn-floating btn-large waves-effect waves-light btn-red"><i
                class="fab fa-amazon"></i></a></li>
            <li ng-show="{{a.soundCloudUrl}}">
              <a href="{{a.soundCloudUrl}}" target="_blank" title="SoundCloud"
                 ng-click="recordLinkClick('click-music-page', 'SoundCloud')"
                 class="btn-floating btn-large waves-effect waves-light btn-red"><i
                class="fab fa-soundcloud"></i></a>
            </li>
            <li ng-show="{{a.bandcampUrl}}">
              <a href="{{a.bandcampUrl}}" target="_blank" title="Bandcamp"
                 ng-click="recordLinkClick('click-music-page', 'Bandcamp')"
                 class="btn-floating btn-large waves-effect waves-light btn-red"><i
                class="fab fa-bandcamp"></i></a>
            </li>
          </ul>
        </div>
      </div>

      <!--      <div class="col-12 pt-3">-->
      <!--        <div class="divider"></div>-->
      <!--      </div>-->
    </div>
  </div>
</div>

<img src="/images/photo-1629194898512-b6b8697063ac.jpeg" class="bg">

<div id="footer" ng-include="'views/footer.html'"></div>

<script>
  // Skip recording GA events to our account if in development.
  if (document.location.hostname != 'localhost' && document.location.hostname != '127.0.0.1') {
    // ga('set', 'page', '/' + location.hash);
    // ga('send', 'pageview', '/' + location.hash);
    gtag('config', 'UA-51847004-1', {
      'page_title': 'Music',
      'page_path': '/' + location.hash
    });
  }
</script>
